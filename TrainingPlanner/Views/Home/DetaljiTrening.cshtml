@using TrainingPlanner
@model TrainingPlanner.Models.TreningDataModel

@{
    Layout = "~/Views/_LayoutWithCSS.cshtml";
}

<div id="inputAreaImages" class="defaultFont">
<p class="bigFont marginHeadline">@Model.ClanIme @Model.ClanPrezime</p>
    <table class="responstable">
        <tr class="smallFont">
            <td style="width:30%">
                @Html.DisplayFor(x => x.TreningImeTreninga)
            </td>
            <td style="width:30%">
                @Model.TreningDatum.ToShortDateString()
            </td>
            <td style="width:30%">
                @Html.DisplayFor(x => x.TreningTip)
            </td>
        </tr>
    </table>
</div>

@if (Model.ListaZagrijavanja == null)
{ }
else if (Model.ListaZagrijavanja.ToList().Count == 0)
{ }
else
{
<div id="inputAreaImages" class="defaultFont">
        <table class="responstable smallFont">
            <tr><td><p class="bigFont">Zagrijavanje</p></td></tr>
            <tr style="font-size:24px"><td style="border-bottom:solid">Naziv</td><td style="border-bottom:solid">Puls</td>
                 <td style="border-bottom:solid">Tempo</td><td style="border-bottom:solid">Vrijeme trajanja</td><td style="border-bottom:solid">Napomena</td>
            @foreach (var zagrijavanje in Model.ListaZagrijavanja)
            {
            <tr class="smallFont">
                <td>@zagrijavanje.Naziv</td>
                <td>@zagrijavanje.Puls</td>
                <td>@zagrijavanje.Tempo</td>
                <td>@zagrijavanje.Trajanje</td>
                <td>@zagrijavanje.ZagrijavanjeNapomena</td>
            @if (zagrijavanje.ZagrijavanjePopis.ZagrijavanjeSlike.Count > 0  )
            {
                <td>
                    <div style="float: left; display: block;">
                        <div>
                            <a href="~/Content/ZagrijavanjeSlike/@zagrijavanje.ZagrijavanjePopis.ZagrijavanjeSlike.FirstOrDefault().ZagrijavanjeSlikaIme" target="_blank">
                                <img class="marginLeft" width="50" height="50" src="@Url.Content(String.Format("~/Content/ZagrijavanjeSlike/{0}", zagrijavanje.ZagrijavanjePopis.ZagrijavanjeSlike.FirstOrDefault().ZagrijavanjeSlikaIme))" />
                            </a>
                        </div>
                    </div>
                </td>
            }
            else
            {
                <td class="smallFont">--</td>
            }
            </tr>
            }
        </table>
</div>
    if (Model.NapomenaZagrijavanje != null)
    {
        <tr>
            <td colspan="5" style="text-align:left">
                Napomena zagrijavanje:  @Model.NapomenaZagrijavanje
            </td>
        </tr>
    }
}

@if (Model.SekcijaVjezbi == null)
{ }
else if (Model.SekcijaVjezbi.ToList().Count == 0)
{ }
else
{
<div id="inputAreaImages" class="defaultFont">
        @{int brojac = 0;}
            @foreach (var item in Model.SekcijaVjezbi)
            {
                brojac++;
            <table class="responstable smallFont">
                @if (Model.SekcijaVjezbi.ToList().Count > 1)
                {<tr><td><p class="bigFont">Vjezbe @brojac . dio</p></td></tr>}
                else
            {<tr><td><p class="bigFont">Vjezbe</p></td></tr>}
            <tr style="font-size:24px"><td style="border-bottom:solid">Naziv</td><td style="border-bottom:solid">Vrijeme trajanja</td>
                <td style="border-bottom:solid">Broj serija</td><td style="border-bottom:solid">Težina/ Opterećenje</td><td style="border-bottom:solid">Odmor</td></tr>
            @foreach (var vjezba in item.Vjezba)
            {
            <tr>
                <td>@vjezba.ImeVjezbe</td>
                <td>@vjezba.BrojPonavljanja</td>
                <td>@vjezba.BrojSerija</td>
                <td>@vjezba.Kilogrami</td>
                <td>@vjezba.Odmor</td>
            @if (vjezba.VjezbePopis.VjezbeSlike.Count > 0  )
            {
                <td>
                    <div style="float: left; display: block;">
                        <div>
                            <a href="~/Content/ZagrijavanjeSlike/@vjezba.VjezbePopis.VjezbeSlike.FirstOrDefault().VjezbeSlikaIme" target="_blank">
                                <img class="marginLeft" width="50" height="50" src="@Url.Content(String.Format("~/Content/VjezbeSlike/{0}", vjezba.VjezbePopis.VjezbeSlike.FirstOrDefault().VjezbeSlikaIme))" />
                            </a>
                        </div>
                    </div>
                </td>
            }
            else
            {
                <td class="smallFont">--</td>
            }
            </tr>
            }
            @if (item.BrojKrugova != null && !string.IsNullOrEmpty(item.BrojKrugova))
            { 
                <tr>
                    <td colspan="5" style="text-align:left">
                        Broj krugova:  @item.BrojKrugova
                    </td>
                </tr>
            }
            @if (item.Odmor != null && !string.IsNullOrEmpty(item.Odmor))
            {
                <tr>
                    <td colspan="5" style="text-align:left">
                        Odmor između krugova:  @item.Odmor
                    </td>
                </tr>
            }
            </table>
                <br />
            }
        
</div>
}

@if (Model.ListaIstezanja == null)
{ }
else if (Model.ListaIstezanja.ToList().Count == 0)
{ }
else
{
<div id="inputAreaImages" class="defaultFont">
        <table class="responstable">
            <tr><td><p class="bigFont">Istezanje</p></td></tr>
            <tr style="font-size:24px"><td style="border-bottom:solid">Naziv</td><td style="border-bottom:solid">Vrijeme izdrzaja</td>
                <td style="border-bottom:solid">Vrsta istezanja</td>
            @foreach (var istezanje in Model.ListaIstezanja)
            {
            <tr class="smallFont">
                <td>@istezanje.Naziv</td>
                <td>@istezanje.VrijemeIzdrzaja</td>
                <td>@istezanje.VrstaIstezanja</td>
                @if (istezanje.IstezanjePopis.IstezanjeSlike.Count > 0  )
            {
                <td>
                    <div style="float: left; display: block;">
                        <div>
                            <a href="~/Content/ZagrijavanjeSlike/@istezanje.IstezanjePopis.IstezanjeSlike.FirstOrDefault().IstezanjeSlikaIme" target="_blank">
                                <img class="marginLeft" width="50" height="50" src="@Url.Content(String.Format("~/Content/IstezanjeSlike/{0}", istezanje.IstezanjePopis.IstezanjeSlike.FirstOrDefault().IstezanjeSlikaIme))" />
                            </a>
                        </div>
                    </div>
                </td>
            }
            else
            {
                <td class="smallFont">--</td>
            }
            </tr>
            }
        </table>
</div>
}

<div>
        <div class="marginText">@Html.Label("Napomena", new {@class = "smallFont"})</div>
        @if(Model.Napomena == null)
        {
            <text>--</text>
        }
        else
        {
            @Html.TextAreaFor(model => model.Napomena, new { rows = "10", cols = "137" , @readonly = true})
        } 
</div>

<p>
    @Html.ActionLink("Natrag na popis treninga", "TreningPopis", "Home", new {id = Model.ClanId }, new { @class = "marginHeadlineTop marginTextBottom button_example" })
</p>
