@model TrainingPlanner.Models.TreningDataModel

@{
    Layout = "~/Views/_LayoutWithCSS.cshtml";
}

@using (Html.BeginForm("DodajTrening", "Home", FormMethod.Post))
{
    @Html.ValidationSummary(true)
    @Html.HiddenFor(x => x.TreningId)

    <div id="inputArea" style="float: left;">
        <p class="bigFont marginHeadline">Novi trening - @Model.ClanIme @Model.ClanPrezime</p>

        <div>
            <div class="marginInputBottom">@Html.Label("Ime treninga", new { @class = "smallFont" })</div>
            @Html.TextBoxFor(x => x.TreningImeTreninga)
            @Html.ValidationMessageFor(model => model.TreningImeTreninga)
        </div>

        <div class="marginText">
            <div class="marginInputBottom">@Html.Label("Tip treninga", new { @class = "smallFont marginInputBottom" })</div>
            @Html.TextBoxFor(x => x.TreningTip)
        </div>

        <div class="marginText">
            <div class="marginInputBottom">@Html.Label("Datum treninga", new { @class = "smallFont marginInputBottom" })</div>
            @Html.TextBoxFor(x => x.TreningDatum, "{0:dd/MM/yyyy}", new { @Value = "01/01/1980", @class = "dateInput" })
            @Html.ValidationMessageFor(model => model.TreningDatum)
        </div>

        <div class="marginText">
            <div class="marginInputBottom">@Html.Label("Napomena", new { @class = "smallFont marginInputBottom" })</div>
            @Html.TextAreaFor(x => x.Napomena, new { rows = "10", cols = "40" })
        </div>

        <div class="marginHeadlineTop marginTextBottom">
            <input type="submit" value="Dodaj trening" class="button_example" />
        </div>

        @Html.ActionLink("Popis treninga", "TreningPopis", "Home", new { id = Model.ClanId }, new { @class = "marginHeadlineTop marginTextBottom button_example" })
    </div>
}
    
<div id="inputAreaImages" style="float: left;">
    <!--Zagrijavanje-->
    <div class="bigFont marginHeadline">Zagrijavanje</div>
    <table class="responstable">
        @if (Model.ListaZagrijavanja == null)
        {
            <tr>
                <td class="smallFont">Trenutno nema zagrijavanja.</td>
            </tr>
        }
        else if (Model.ListaZagrijavanja.ToList().Count == 0)
        {
            <tr>
                <td class="smallFont">Trenutno nema zagrijavanja.</td>
            </tr>
        }
        else
        {
            foreach (var zagrijavanje in Model.ListaZagrijavanja)
            {
                using (Html.BeginForm("SpremiZagrijavanjeInfo", "Home", FormMethod.Post))
                {
                    <tr class="smallFont">
                        @Html.Hidden("id", Model.TreningId)
                        @Html.Hidden("ZagrijavanjeId", zagrijavanje.ZagrijavanjeId)
                        <td>@zagrijavanje.Naziv</td>
                        <td>@Html.TextArea("Puls", zagrijavanje.Puls, new { @class = "smallFont marginInputBottom " })</td>
                        <td>@Html.TextArea("Tempo", zagrijavanje.Tempo, new { @class = "smallFont marginInputBottom" })</td>
                        <td>@Html.TextArea("Napomena", zagrijavanje.ZagrijavanjeNapomena, new { @class = "smallFont marginInputBottom" })</td>

                        <td>@Html.ActionLink("Izbriši", "IzbrisiZagrijavanjeTrening", "Home", new { id = zagrijavanje.ZagrijavanjeId }, new { @class = "button_example_small" })</td>
                        <td>@Html.ActionLink("Detalji", "DetaljiZagrijavanjeTrening", "Home", new { id = zagrijavanje.ZagrijavanjeId }, new { @class = "button_example_small" })</td>
                        <td><input type="submit" name="SpremiZagrijavanjeInfo" value="Spremi" /></td>
                    </tr>
                }
            }
        }
    </table>
    @Html.ActionLink("Dodaj zagrijavanje", "DodajZagrijavanjeTrening", "Home", new { id = Model.TreningId }, new { @class = "marginHeadlineTop marginTextBottom button_example" })    
    
    <!--Vjezbe-->   
    <div class="bigFont marginHeadline">Vježbe</div>
    <table class="responstable">
        @if (Model.SekcijaVjezbi == null)
        {
            <tr>
                <td class="smallFont">Trenutno nema vježbi.</td>
            </tr>
        }
        else if (Model.SekcijaVjezbi.ToList().Count == 0)
        {
            <tr>
                <td class="smallFont">Trenutno nema vježbi.</td>
            </tr>
        }
        else
        {
            foreach (var item in Model.SekcijaVjezbi)
            {
                foreach (var vjezba in item.Vjezba)
                {
                    using (Html.BeginForm("SpremiVjezbuInfo", "Home", FormMethod.Post))
                    {
                        <tr class="smallFont">
                            @Html.Hidden("id", Model.TreningId)
                            @Html.Hidden("VjezbaId", vjezba.VjezbaId)
                            <td>@vjezba.ImeVjezbe</td>
                            <td>@Html.TextArea("Broj ponavljanja", vjezba.BrojPonavljanja, new {@class = "smallFont marginInputBottom "})</td>
                            <td>@Html.TextArea("Broj serija", vjezba.BrojSerija, new {@class = "smallFont marginInputBottom"})</td>
                            <td>@Html.TextArea("Tezina", vjezba.Kilogrami, new {@class = "smallFont marginInputBottom"})</td>
                            <td>@Html.TextArea("Odmor", vjezba.Odmor, new { @class = "smallFont marginInputBottom" })</td>
                            <td>@Html.ActionLink("Izbriši", "IzbrisiVjezbuTrening", "Home", new { id = vjezba.VjezbaId }, new { @class = "button_example_small" })</td>
                            <td>@Html.ActionLink("Detalji", "DetaljiVjezbeTrening", "Home", new { id = vjezba.VjezbaId, id1 = Model.TreningId.ToString() }, new { @class = "button_example_small" })</td>
                             
                            <td><input type="submit" name="SpremiVjezbuInfo" value="Spremi" /></td>
                        </tr>
                    }
                }
                @Html.ActionLink("Dodaj Vjezbu", "DodajVjezbuTrening", "Home", new { id = item.SekcijaId, id1 = Model.TreningId.ToString() }, new { @class = "marginHeadlineTop marginTextBottom button_example" })
            }

            foreach (var item in Model.SekcijaVjezbi)
            {
                using (Html.BeginForm("SpremiBrojKrugova", "Home", FormMethod.Post))
                {
                    @Html.Hidden("id", Model.TreningId)
                    @Html.Hidden("sekcijaId", item.SekcijaId)
                    @Html.Label("Broj krugova:")
                    <br />
                    @Html.TextBox("Broj krugova", item.BrojKrugova)
                    <input type="submit" name="SpremiBrojKrugova" value="Spremi broj krugova" />
                }
                <br />
                @Html.ActionLink("Izbrisi sekciju vjezbi", "IzbrisiSekcijuVjezbi", "Home", new { id = item.SekcijaId }, new { @class = "marginHeadlineTop marginTextBottom button_example" })
            }
        }
    </table>
    @Html.ActionLink("Dodaj sekciju vježbi", "DodajSekcijuTrening", "Home", new { id = Model.TreningId }, new { @class = "marginHeadlineTop marginTextBottom button_example" })
        
    <!--Istezanje-->   
    <div class="bigFont marginHeadline">Istezanje</div>
    <table class="responstable">
        @if (Model.ListaIstezanja == null)
        {
            <tr>
                <td class="smallFont">Trenutno nema istezanja.</td>
            </tr>
        }
        else if (Model.ListaIstezanja.ToList().Count == 0)
        {
            <tr>
                <td class="smallFont">Trenutno nema istezanja.</td>
            </tr>
        }
        else
        {
            foreach (var istezanje in Model.ListaIstezanja)
            {
                using (Html.BeginForm("SpremiIstezanjeInfo", "Home", FormMethod.Post))
                {
                    <tr class="smallFont">
                        @Html.Hidden("id", Model.TreningId)
                        @Html.Hidden("IstezanjeId", istezanje.IstezanjeId)
                        <td>@istezanje.Naziv</td>
                        <td>@Html.TextArea("Vrijeme izdržaja", istezanje.VrijemeIzdrzaja, new { @class = "smallFont marginInputBottom " })</td>
                        <td>@Html.TextArea("Vrsta istezanja", istezanje.VrstaIstezanja, new { @class = "smallFont marginInputBottom" })</td>

                        <td>@Html.ActionLink("Izbriši", "IzbrisiIstezanjeTrening", "Home", new { id = istezanje.IstezanjeId }, new { @class = "button_example_small" })</td>
                        <td>@Html.ActionLink("Detalji", "DetaljiIstezanjeTrening", "Home", new { id = istezanje.IstezanjeId }, new { @class = "button_example_small" })</td>
                    
                        <td><input type="submit" name="SpremiIstezanjeInfo" value="Spremi" /></td>
                    </tr>
                }
            }
        }
    </table>
    @Html.ActionLink("Dodaj istezanje", "DodajIstezanjeTrening", "Home", new { id = Model.TreningId }, new { @class = "marginHeadlineTop marginTextBottom button_example" })     

</div>